{"mappings":"AAEO,SAASA,EAAYC,GAC1B,MAAMC,EAAe,IAAIC,gBAAgB,CACvCC,IAAK,qCACLC,EAAGJ,EACHK,WAAY,QACZC,YAAa,aACbC,WAAY,OACZC,SAAU,KACVC,KAAM,IAGR,OAAOC,MAAM,4BAAUT,KAAgBU,MAAKC,IAC1C,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,CCuD1B,MAAMC,EAAO,CACXC,aAAcC,SAASC,cAAc,YACrCC,KAAMF,SAASC,cAAc,gBAC7BE,YAAaH,SAASC,cAAc,eAGtCH,EAAKI,KAAKE,iBAAiB,UAG3B,SAAkBC,GAChBA,EAAEC,iBAEF,MAAMC,SAAEA,GAAaF,EAAEG,cAIvB5B,EAFoB2B,EAAS1B,YAAY4B,OAGtCjB,MAAKkB,GACGA,EAAKC,OAEbnB,MAAKC,IACJK,EAAKC,aAAaa,mBAAmB,YAA0BnB,EC3FhEoB,KAAI,EAACC,aAAEA,EAAYC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC3C,2DAEOL,WAAsBC,6GAGjBC,kFAGAC,qFAGGC,sFAGCC,oEAMxBC,KAAK,IDsEqE,G,IAd/EtB,EAAKK,YAAYC,iBAAiB,SAkBlC,WAAwB","sources":["src/js/fetcImages.js","src/index.js","src/js/renderImages.js"],"sourcesContent":["const URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(searchQuery) {\n  const searchParams = new URLSearchParams({\n    key: '34499187-b966d60bee54df692b8f37eb6',\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: '40',\n    page: 1,\n  });\n\n  return fetch(`${URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n/////////////////////////////////////////////////////\n// const URL = 'https://pixabay.com/api/';\n// const API_KEY = '34499187-b966d60bee54df692b8f37eb6';\n\n// export class ApiServices {\n//   constructor() {\n//     this.searchQuery = '';\n//     this.page = 1;\n//     this.per_page = 140;\n//   }\n\n//   fetchImages() {\n//     // console.log(this);\n\n//     const searchParams = new URLSearchParams({\n//       key: API_KEY,\n//       q: this.searchQuery,\n//       image_type: 'photo',\n//       orientation: 'horizontal',\n//       safesearch: 'true',\n//       per_page: this.per_page,\n//       page: this.page,\n//     });\n\n//     return fetch(`${URL}?${searchParams}`)\n//       .then(response => {\n//         if (!response.ok) {\n//           throw new Error(response.status);\n//         }\n//         return response.json();\n//       })\n//       .then(data => {\n//         // console.log(data);\n//         this.page += 1;\n//         this.totalHits = data.totalHits;\n//         // console.log(this);\n\n//         return data.hits;\n//       });\n//   }\n\n//   resetPage() {\n//     this.page = 1;\n//   }\n\n//   get query() {\n//     return this.searchQuery;\n//   }\n\n//   set query(newQuery) {\n//     this.searchQuery = newQuery;\n//   }\n\n//   get hits() {\n//     return this.totalHits;\n//   }\n\n//   set hits(newHits) {\n//     this.totalHits = newHits;\n//   }\n\n// }\n","// import { imagesMarkup } from './js/renderImages';\n// import { ApiServices } from './js/fetcImages';\n// import axios from 'axios';\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n// const refs = {\n//   renderImages: document.querySelector('.gallery'),\n//   form: document.querySelector('.search-form'),\n//   loadMoreBtn: document.querySelector('.load-more'),\n// };\n\n// refs.loadMoreBtn.style.visibility = 'hidden';\n\n// const apiServices = new ApiServices();\n// let limitImages = 0;\n\n// refs.form.addEventListener('submit', onSubmit);\n// refs.loadMoreBtn.addEventListener('click', onMoreImages);\n\n// function onMoreImages() {\n//   if (limitImages <= 0) {\n//     refs.loadMoreBtn.style.visibility = 'hidden';\n//     Notify.failure(\n//       '\"We re sorry, but you ve reached the end of search results.\"'\n//     );\n//     return;\n//   }\n//   apiServices.fetchImages().then(renderImages);\n//   limitImages -= apiServices.per_page;\n//   console.log(limitImages);\n//   console.log(apiServices.hasMorePhotos());\n// }\n\n// function onSubmit(e) {\n//   e.preventDefault();\n\n//   const { elements } = e.currentTarget;\n//   apiServices.query = elements.searchQuery.value.trim();\n//   if (!apiServices.query) {\n//     return Notify.failure(\n//       '\"Sorry, there are no images matching your search query. Please try again.\"'\n//     );\n//   }\n//   apiServices.resetPage();\n//   apiServices.fetchImages().then(images => {\n//     console.log(images);\n//     clearForm();\n//     renderImages(images);\n//     refs.loadMoreBtn.style.visibility = 'visible';\n//     Notify.success(`\"Hooray! We found ${apiServices.hits} images.\"`);\n//     limitImages = apiServices.hits - apiServices.per_page;\n\n//     console.log(apiServices.hasMorePhotos());\n//   });\n// }\n\n// function renderImages(images) {\n//   return refs.renderImages.insertAdjacentHTML(\n//     'beforeend',\n//     imagesMarkup(images)\n//   );\n// }\n\n// function clearForm() {\n//   refs.renderImages.innerHTML = '';\n// }\n\n/////////////////////////////\n\nimport { fetchImages } from './js/fetcImages';\nimport { imagesMarkup } from './js/renderImages';\n\nconst refs = {\n  renderImages: document.querySelector('.gallery'),\n  form: document.querySelector('.search-form'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nrefs.form.addEventListener('submit', onSubmit);\nrefs.loadMoreBtn.addEventListener('click', onMoreImages);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const { elements } = e.currentTarget;\n\n  const searchQuery = elements.searchQuery.value;\n\n  fetchImages(searchQuery)\n    .then(data => {\n      return data.hits;\n    })\n    .then(response => {\n      refs.renderImages.insertAdjacentHTML('beforeend', imagesMarkup(response));\n    });\n}\n\nfunction onMoreImages() {}\n","export function imagesMarkup(images) {\n  return images\n    .map(({ webformatURL, tags, likes, views, comments, downloads }) => {\n      return `\n          <div class=\"photo-card\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes : ${likes}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Views : ${views}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Comments : ${comments}</b>\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads : ${downloads}</b>\n          </p>\n        </div>\n      </div>\n          `;\n    })\n    .join('');\n}\n"],"names":["$4cb570f86bb05064$export$be0d73ca56f1a1d","searchQuery","searchParams","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","page","fetch","then","response","ok","Error","status","json","$1f0dc3b9307be026$var$refs","renderImages","document","querySelector","form","loadMoreBtn","addEventListener","e","preventDefault","elements","currentTarget","value","data","hits","insertAdjacentHTML","map","webformatURL","tags","likes","views","comments","downloads","join"],"version":3,"file":"index.63ad62f4.js.map"}